---
pgrole: 'rutorrentmulti'
intport: '8080'
image: 'mondedie/rutorrent:2022.02.01'
pg_volumes:
  - "{{ lookup('env','HOME') }}/{{ usermulti }}/docker/{{pgrole}}/config:/config"
  - "{{ lookup('env','HOME') }}/{{ usermulti }}/docker/{{pgrole}}/data:/data"
  - "{{ lookup('env','HOME') }}/{{ usermulti }}/docker/{{pgrole}}/sock:/run/rtorrent"
  - "{{ lookup('env','HOME') }}/{{ usermulti}}:{{ lookup('env','HOME') }}/{{ usermulti}}"
  - '/etc/localtime:/etc/localtime:ro'

pg_env:
  UID: '{{uidguid}}'
  GID: '{{uidguid}}'
  TZ: 'Europe/Paris'
  DHT_RTORRENT: 'off'
  PORT_RTORRENT: '{{portrutorrent}}'
  HTTP_AUTH: 'false'
  CHECK_PERM_DATA: 'no'

# tags spécifiques à ajouter à la construction du docker
specific_docker_info:
  ports:
    - '{{portrutorrent}}:{{portrutorrent}}'
#  Pour contourner l'authentification pour des outils de style nzb360, décommentez le pavé ci dessous
#extra_labels:
#  traefik.http.routers.rutorrent-rtr-bypass.rule: 'Path(`/RPC2`)'
#  traefik.http.routers.rutorrent-rtr-bypass.priority: '100'
#  traefik.http.routers.rutorrent-rtr-bypass.tls: 'true'
#  traefik.http.routers.rutorrent-rtr-bypass.middlewares: 'chain-basic-auth@file'
#  traefik.http.routers.rutorrent-rtr-bypass.service: 'rutorrent-svc'
